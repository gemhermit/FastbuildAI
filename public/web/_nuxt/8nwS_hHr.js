import{a8 as Se,dx as L,dy as gt,aa as dt,dz as P,dA as bt,dB as O,dC as I,dD as S,f as Et,s as pt,dE as vt,dF as b,dG as N,dH as y,dI as me,dJ as $,dK as x,g as U,dL as B,w as q,i as Rt,ah as It,dM as Y,dN as X,dO as Tt,dP as fe,dQ as _e,dR as G,dS as Ot,dU as Ft,dV as w,dW as Nt,dX as yt,dY as he,d as re,h as Pe,F as Ce,dZ as Lt,A as kt,d_ as ge,d$ as de,e0 as be,e1 as Ee,e2 as pe,e3 as ve,e4 as Re,e5 as Ie,e6 as St,e7 as ht,e8 as Pt,e9 as Ct,ea as Dt,eb as Mt,l as At,ec as xt,ed as Ut,ee as wt}from"#entry";const Vt="11.1.12",T={UNEXPECTED_RETURN_TYPE:yt,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32};function F(e,...a){return gt(e,null,void 0)}const Q=P("__translateVNode"),z=P("__datetimeParts"),Z=P("__numberParts"),Wt=P("__setPluralRules"),jt=P("__injectWithOption"),ee=P("__dispose");function V(e){if(!O(e)||G(e))return e;for(const a in e)if(X(e,a))if(!a.includes("."))O(e[a])&&V(e[a]);else{const s=a.split("."),l=s.length-1;let c=e,u=!1;for(let r=0;r<l;r++){if(s[r]==="__proto__")throw new Error(`unsafe key: ${s[r]}`);if(s[r]in c||(c[s[r]]=I()),!O(c[s[r]])){u=!0;break}c=c[s[r]]}if(u||(G(c)?Ot.includes(s[l])||delete e[a]:(c[s[l]]=e[a],delete e[a])),!G(c)){const r=c[s[l]];O(r)&&V(r)}}return e}function De(e,a){const{messages:s,__i18n:l,messageResolver:c,flatJson:u}=a,r=y(s)?s:N(l)?I():{[e]:I()};if(N(l)&&l.forEach(o=>{if("locale"in o&&"resource"in o){const{locale:i,resource:m}=o;i?(r[i]=r[i]||I(),Y(m,r[i])):Y(m,r)}else b(o)&&Y(JSON.parse(o),r)}),c==null&&u)for(const o in r)X(r,o)&&V(r[o]);return r}function Ht(e){return e.type}function $t(e,a,s){let l=O(a.messages)?a.messages:I();"__i18nGlobal"in s&&(l=De(e.locale.value,{messages:l,__i18n:s.__i18nGlobal}));const c=Object.keys(l);c.length&&c.forEach(u=>{e.mergeLocaleMessage(u,l[u])});{if(O(a.datetimeFormats)){const u=Object.keys(a.datetimeFormats);u.length&&u.forEach(r=>{e.mergeDateTimeFormat(r,a.datetimeFormats[r])})}if(O(a.numberFormats)){const u=Object.keys(a.numberFormats);u.length&&u.forEach(r=>{e.mergeNumberFormat(r,a.numberFormats[r])})}}}function Te(e){return At(xt,null,e,0)}const Oe=()=>[],Yt=()=>!1;let Fe=0;function Ne(e){return((a,s,l,c)=>e(s,l,Se()||void 0,c))}function Me(e={}){const{__root:a,__injectWithOption:s}=e,l=a===void 0,c=e.flatJson,u=B?Et:pt;let r=S(e.inheritLocale)?e.inheritLocale:!0;const o=u(a&&r?a.locale.value:b(e.locale)?e.locale:vt),i=u(a&&r?a.fallbackLocale.value:b(e.fallbackLocale)||N(e.fallbackLocale)||y(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:o.value),m=u(De(o.value,e)),_=u(y(e.datetimeFormats)?e.datetimeFormats:{[o.value]:{}}),E=u(y(e.numberFormats)?e.numberFormats:{[o.value]:{}});let v=a?a.missingWarn:S(e.missingWarn)||me(e.missingWarn)?e.missingWarn:!0,R=a?a.fallbackWarn:S(e.fallbackWarn)||me(e.fallbackWarn)?e.fallbackWarn:!0,k=a?a.fallbackRoot:S(e.fallbackRoot)?e.fallbackRoot:!0,h=!!e.fallbackFormat,oe=$(e.missing)?e.missing:null,W=$(e.missing)?Ne(e.missing):null,A=$(e.postTranslation)?e.postTranslation:null,J=a?a.warnHtmlMessage:S(e.warnHtmlMessage)?e.warnHtmlMessage:!0,K=!!e.escapeParameter;const ce=a?a.modifiers:y(e.modifiers)?e.modifiers:{};let j=e.pluralRules||a&&a.pluralRules,f;f=(()=>{l&&ge(null);const t={version:Vt,locale:o.value,fallbackLocale:i.value,messages:m.value,modifiers:ce,pluralRules:j,missing:W===null?void 0:W,missingWarn:v,fallbackWarn:R,fallbackFormat:h,unresolving:!0,postTranslation:A===null?void 0:A,warnHtmlMessage:J,escapeParameter:K,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};t.datetimeFormats=_.value,t.numberFormats=E.value,t.__datetimeFormatters=y(f)?f.__datetimeFormatters:void 0,t.__numberFormatters=y(f)?f.__numberFormatters:void 0;const n=Tt(t);return l&&ge(n),n})(),x(f,o.value,i.value);function Ue(){return[o.value,i.value,m.value,_.value,E.value]}const we=U({get:()=>o.value,set:t=>{f.locale=t,o.value=t}}),Ve=U({get:()=>i.value,set:t=>{f.fallbackLocale=t,i.value=t,x(f,o.value,t)}}),We=U(()=>m.value),je=U(()=>_.value),He=U(()=>E.value);function $e(){return $(A)?A:null}function Ye(t){A=t,f.postTranslation=t}function Ge(){return oe}function Be(t){t!==null&&(W=Ne(t)),oe=t,f.missing=W}const C=(t,n,g,d,D,H)=>{Ue();let M;try{l||(f.fallbackContext=a?Ft():void 0),M=t(f)}finally{l||(f.fallbackContext=void 0)}if(g!=="translate exists"&&w(M)&&M===Nt||g==="translate exists"&&!M){const[_t,ma]=n();return a&&k?d(a):D(_t)}else{if(H(M))return M;throw F(T.UNEXPECTED_RETURN_TYPE)}};function ue(...t){return C(n=>Reflect.apply(be,null,[n,...t]),()=>de(...t),"translate",n=>Reflect.apply(n.t,n,[...t]),n=>n,n=>b(n))}function Xe(...t){const[n,g,d]=t;if(d&&!O(d))throw F(T.INVALID_ARGUMENT);return ue(n,g,L({resolvedMessage:!0},d||{}))}function Je(...t){return C(n=>Reflect.apply(ve,null,[n,...t]),()=>pe(...t),"datetime format",n=>Reflect.apply(n.d,n,[...t]),()=>Ee,n=>b(n)||N(n))}function Ke(...t){return C(n=>Reflect.apply(Ie,null,[n,...t]),()=>Re(...t),"number format",n=>Reflect.apply(n.n,n,[...t]),()=>Ee,n=>b(n)||N(n))}function qe(t){return t.map(n=>b(n)||w(n)||S(n)?Te(String(n)):n)}const Qe={normalize:qe,interpolate:t=>t,type:"vnode"};function ze(...t){return C(n=>{let g;const d=n;try{d.processor=Qe,g=Reflect.apply(be,null,[d,...t])}finally{d.processor=null}return g},()=>de(...t),"translate",n=>n[Q](...t),n=>[Te(n)],n=>N(n))}function Ze(...t){return C(n=>Reflect.apply(Ie,null,[n,...t]),()=>Re(...t),"number format",n=>n[Z](...t),Oe,n=>b(n)||N(n))}function et(...t){return C(n=>Reflect.apply(ve,null,[n,...t]),()=>pe(...t),"datetime format",n=>n[z](...t),Oe,n=>b(n)||N(n))}function tt(t){j=t,f.pluralRules=j}function at(t,n){return C(()=>{if(!t)return!1;const g=b(n)?n:o.value,d=ie(g),D=f.messageResolver(d,t);return G(D)||St(D)||b(D)},()=>[t],"translate exists",g=>Reflect.apply(g.te,g,[t,n]),Yt,g=>S(g))}function nt(t){let n=null;const g=he(f,i.value,o.value);for(let d=0;d<g.length;d++){const D=m.value[g[d]]||{},H=f.messageResolver(D,t);if(H!=null){n=H;break}}return n}function rt(t){const n=nt(t);return n??(a?a.tm(t)||{}:{})}function ie(t){return m.value[t]||{}}function lt(t,n){if(c){const g={[t]:n};for(const d in g)X(g,d)&&V(g[d]);n=g[t]}m.value[t]=n,f.messages=m.value}function st(t,n){m.value[t]=m.value[t]||{};const g={[t]:n};if(c)for(const d in g)X(g,d)&&V(g[d]);n=g[t],Y(n,m.value[t]),f.messages=m.value}function ot(t){return _.value[t]||{}}function ct(t,n){_.value[t]=n,f.datetimeFormats=_.value,fe(f,t,n)}function ut(t,n){_.value[t]=L(_.value[t]||{},n),f.datetimeFormats=_.value,fe(f,t,n)}function it(t){return E.value[t]||{}}function mt(t,n){E.value[t]=n,f.numberFormats=E.value,_e(f,t,n)}function ft(t,n){E.value[t]=L(E.value[t]||{},n),f.numberFormats=E.value,_e(f,t,n)}Fe++,a&&B&&(q(a.locale,t=>{r&&(o.value=t,f.locale=t,x(f,o.value,i.value))}),q(a.fallbackLocale,t=>{r&&(i.value=t,f.fallbackLocale=t,x(f,o.value,i.value))}));const p={id:Fe,locale:we,fallbackLocale:Ve,get inheritLocale(){return r},set inheritLocale(t){r=t,t&&a&&(o.value=a.locale.value,i.value=a.fallbackLocale.value,x(f,o.value,i.value))},get availableLocales(){return Object.keys(m.value).sort()},messages:We,get modifiers(){return ce},get pluralRules(){return j||{}},get isGlobal(){return l},get missingWarn(){return v},set missingWarn(t){v=t,f.missingWarn=v},get fallbackWarn(){return R},set fallbackWarn(t){R=t,f.fallbackWarn=R},get fallbackRoot(){return k},set fallbackRoot(t){k=t},get fallbackFormat(){return h},set fallbackFormat(t){h=t,f.fallbackFormat=h},get warnHtmlMessage(){return J},set warnHtmlMessage(t){J=t,f.warnHtmlMessage=t},get escapeParameter(){return K},set escapeParameter(t){K=t,f.escapeParameter=t},t:ue,getLocaleMessage:ie,setLocaleMessage:lt,mergeLocaleMessage:st,getPostTranslationHandler:$e,setPostTranslationHandler:Ye,getMissingHandler:Ge,setMissingHandler:Be,[Wt]:tt};return p.datetimeFormats=je,p.numberFormats=He,p.rt=Xe,p.te=at,p.tm=rt,p.d=Je,p.n=Ke,p.getDateTimeFormat=ot,p.setDateTimeFormat=ct,p.mergeDateTimeFormat=ut,p.getNumberFormat=it,p.setNumberFormat=mt,p.mergeNumberFormat=ft,p[jt]=s,p[Q]=ze,p[z]=et,p[Z]=Ze,p}const le={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function Gt({slots:e},a){return a.length===1&&a[0]==="default"?(e.default?e.default():[]).reduce((l,c)=>[...l,...c.type===Ce?c.children:[c]],[]):a.reduce((s,l)=>{const c=e[l];return c&&(s[l]=c()),s},I())}function Ae(){return Ce}const Bt=re({name:"i18n-t",props:L({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>w(e)||!isNaN(e)}},le),setup(e,a){const{slots:s,attrs:l}=a,c=e.i18n||se({useScope:e.scope,__useComponent:!0});return()=>{const u=Object.keys(s).filter(E=>E[0]!=="_"),r=I();e.locale&&(r.locale=e.locale),e.plural!==void 0&&(r.plural=b(e.plural)?+e.plural:e.plural);const o=Gt(a,u),i=c[Q](e.keypath,o,r),m=L(I(),l),_=b(e.tag)||O(e.tag)?e.tag:Ae();return Pe(_,m,i)}}}),te=Bt,ga=te;function Xt(e){return N(e)&&!b(e[0])}function xe(e,a,s,l){const{slots:c,attrs:u}=a;return()=>{const r={part:!0};let o=I();e.locale&&(r.locale=e.locale),b(e.format)?r.key=e.format:O(e.format)&&(b(e.format.key)&&(r.key=e.format.key),o=Object.keys(e.format).reduce((v,R)=>s.includes(R)?L(I(),v,{[R]:e.format[R]}):v,I()));const i=l(e.value,r,o);let m=[r.key];N(i)?m=i.map((v,R)=>{const k=c[v.type],h=k?k({[v.type]:v.value,index:R,parts:i}):[v.value];return Xt(h)&&(h[0].key=`${v.type}-${R}`),h}):b(i)&&(m=[i]);const _=L(I(),u),E=b(e.tag)||O(e.tag)?e.tag:Ae();return Pe(E,_,m)}}const Jt=re({name:"i18n-n",props:L({value:{type:Number,required:!0},format:{type:[String,Object]}},le),setup(e,a){const s=e.i18n||se({useScope:e.scope,__useComponent:!0});return xe(e,a,ht,(...l)=>s[Z](...l))}}),ae=Jt,da=ae;function Kt(e,a){const s=e;if(e.mode==="composition")return s.__getInstance(a)||e.global;{const l=s.__getInstance(a);return l!=null?l.__composer:e.global.__composer}}function qt(e){const a=r=>{const{instance:o,value:i}=r;if(!o||!o.$)throw F(T.UNEXPECTED_ERROR);const m=Kt(e,o.$),_=ye(i);return[Reflect.apply(m.t,m,[...Le(_)]),m]};return{created:(r,o)=>{const[i,m]=a(o);B&&e.global===m&&(r.__i18nWatcher=q(m.locale,()=>{o.instance&&o.instance.$forceUpdate()})),r.__composer=m,r.textContent=i},unmounted:r=>{B&&r.__i18nWatcher&&(r.__i18nWatcher(),r.__i18nWatcher=void 0,delete r.__i18nWatcher),r.__composer&&(r.__composer=void 0,delete r.__composer)},beforeUpdate:(r,{value:o})=>{if(r.__composer){const i=r.__composer,m=ye(o);r.textContent=Reflect.apply(i.t,i,[...Le(m)])}},getSSRProps:r=>{const[o]=a(r);return{textContent:o}}}}function ye(e){if(b(e))return{path:e};if(y(e)){if(!("path"in e))throw F(T.REQUIRED_VALUE,"path");return e}else throw F(T.INVALID_VALUE)}function Le(e){const{path:a,locale:s,args:l,choice:c,plural:u}=e,r={},o=l||{};return b(s)&&(r.locale=s),w(c)&&(r.plural=c),w(u)&&(r.plural=u),[a,o,r]}function Qt(e,a,...s){const l=y(s[0])?s[0]:{};(S(l.globalInstall)?l.globalInstall:!0)&&([te.name,"I18nT"].forEach(u=>e.component(u,te)),[ae.name,"I18nN"].forEach(u=>e.component(u,ae)),[ne.name,"I18nD"].forEach(u=>e.component(u,ne))),e.directive("t",qt(a))}const zt=P("global-vue-i18n");function ba(e={}){const a=S(e.globalInjection)?e.globalInjection:!0,s=new Map,[l,c]=Zt(e),u=P("");function r(_){return s.get(_)||null}function o(_,E){s.set(_,E)}function i(_){s.delete(_)}const m={get mode(){return"composition"},async install(_,...E){if(_.__VUE_I18N_SYMBOL__=u,_.provide(_.__VUE_I18N_SYMBOL__,m),y(E[0])){const k=E[0];m.__composerExtend=k.__composerExtend,m.__vueI18nExtend=k.__vueI18nExtend}let v=null;a&&(v=oa(_,m.global)),Qt(_,m,...E);const R=_.unmount;_.unmount=()=>{v&&v(),m.dispose(),R()}},get global(){return c},dispose(){l.stop()},__instances:s,__getInstance:r,__setInstance:o,__deleteInstance:i};return m}function se(e={}){const a=Se();if(a==null)throw F(T.MUST_BE_CALL_SETUP_TOP);if(!a.isCE&&a.appContext.app!=null&&!a.appContext.app.__VUE_I18N_SYMBOL__)throw F(T.NOT_INSTALLED);const s=ea(a),l=aa(s),c=Ht(a),u=ta(e,c);if(u==="global")return $t(l,e,c),l;if(u==="parent"){let i=na(s,a,e.__useComponent);return i==null&&(i=l),i}const r=s;let o=r.__getInstance(a);if(o==null){const i=L({},e);"__i18n"in c&&(i.__i18n=c.__i18n),l&&(i.__root=l),o=Me(i),r.__composerExtend&&(o[ee]=r.__composerExtend(o)),la(r,a,o),r.__setInstance(a,o)}return o}function Zt(e,a){const s=Lt(),l=s.run(()=>Me(e));if(l==null)throw F(T.UNEXPECTED_ERROR);return[s,l]}function ea(e){const a=dt(e.isCE?zt:e.appContext.app.__VUE_I18N_SYMBOL__);if(!a)throw F(e.isCE?T.NOT_INSTALLED_WITH_PROVIDE:T.UNEXPECTED_ERROR);return a}function ta(e,a){return bt(e)?"__i18n"in a?"local":"global":e.useScope?e.useScope:"local"}function aa(e){return e.mode==="composition"?e.global:e.global.__composer}function na(e,a,s=!1){let l=null;const c=a.root;let u=ra(a,s);for(;u!=null;){const r=e;if(e.mode==="composition"&&(l=r.__getInstance(u)),l!=null||c===u)break;u=u.parent}return l}function ra(e,a=!1){return e==null?null:a&&e.vnode.ctx||e.parent}function la(e,a,s){Rt(()=>{},a),It(()=>{const l=s;e.__deleteInstance(a);const c=l[ee];c&&(c(),delete l[ee])},a)}const sa=["locale","fallbackLocale","availableLocales"],ke=["t","rt","d","n","tm","te"];function oa(e,a){const s=Object.create(null);return sa.forEach(c=>{const u=Object.getOwnPropertyDescriptor(a,c);if(!u)throw F(T.UNEXPECTED_ERROR);const r=kt(u.value)?{get(){return u.value.value},set(o){u.value.value=o}}:{get(){return u.get&&u.get()}};Object.defineProperty(s,c,r)}),e.config.globalProperties.$i18n=s,ke.forEach(c=>{const u=Object.getOwnPropertyDescriptor(a,c);if(!u||!u.value)throw F(T.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${c}`,u)}),()=>{delete e.config.globalProperties.$i18n,ke.forEach(c=>{delete e.config.globalProperties[`$${c}`]})}}const ca=re({name:"i18n-d",props:L({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},le),setup(e,a){const s=e.i18n||se({useScope:e.scope,__useComponent:!0});return xe(e,a,Pt,(...l)=>s[z](...l))}}),ne=ca,Ea=ne;Ct(Ut);Dt(wt);Mt(he);export{ne as DatetimeFormat,Ea as I18nD,zt as I18nInjectionKey,da as I18nN,ga as I18nT,ae as NumberFormat,te as Translation,Vt as VERSION,ba as createI18n,se as useI18n,qt as vTDirective};
